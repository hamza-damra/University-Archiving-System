# ============================================
# PRODUCTION CONFIGURATION
# ============================================
# This file contains production-specific settings
# Activate this profile with: --spring.profiles.active=prod

# Database Configuration - Production
# IMPORTANT: Update these values for your production database
spring.datasource.url=jdbc:mysql://production-db-host:3306/archive_system?useSSL=true&serverTimezone=UTC
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# JPA/Hibernate Configuration - Production
# NEVER use 'update' or 'create' in production - use Flyway migrations instead
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Connection Pooling - Production Optimized
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# Flyway Migration - Enabled in Production
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Session Configuration - Production
spring.session.timeout=60m
spring.session.jdbc.cleanup-cron=0 0 * * * *

# File Upload Settings - Production
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=100MB

# Application Upload Configuration - Production
app.upload.base-path=/var/app/uploads/
app.upload.allowed-extensions=pdf,zip
app.upload.max-file-count=10
app.upload.max-total-size-mb=50
app.upload.create-directories=true

# JWT Configuration - Production
# IMPORTANT: Use strong, randomly generated secret in production
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# Server Configuration - Production
server.port=8080
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Logging Configuration - Production
# Reduced logging for performance, only WARN and ERROR messages
logging.level.root=WARN
logging.level.com.alqude.edu.ArchiveSystem=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=/var/log/archive-system/archive-system.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30

# ============================================
# SECURITY NOTES
# ============================================
# 1. Always use environment variables for sensitive data (DB_USERNAME, DB_PASSWORD, JWT_SECRET)
# 2. Never commit production credentials to version control
# 3. Use strong, randomly generated JWT secret (minimum 256 bits)
# 4. Ensure SSL/TLS is enabled for database connections
# 5. Review and update security settings regularly
# 6. Monitor logs for suspicious activity
# 7. Keep all dependencies up to date

