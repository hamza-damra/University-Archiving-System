/* Custom styles to supplement Tailwind */

/* ===================================
   DARK THEME SYSTEM
   =================================== */

/* CSS Custom Properties for Theming */
:root {
    /* Light Theme (Default) */
    --bg-primary: #ffffff;
    --bg-secondary: #f9fafb;
    --bg-tertiary: #f3f4f6;
    --bg-elevated: #ffffff;

    --text-primary: #111827;
    --text-secondary: #4b5563;
    --text-tertiary: #6b7280;
    --text-inverse: #ffffff;

    --border-primary: #e5e7eb;
    --border-secondary: #d1d5db;
    --border-focus: #3b82f6;

    --accent-blue: #3b82f6;
    --accent-blue-hover: #2563eb;
    --accent-blue-light: #eff6ff;

    /* Purple accent for admin dashboard */
    --accent-purple: #9333ea;
    --accent-purple-hover: #7e22ce;
    --accent-purple-light: rgba(147, 51, 234, 0.1);

    /* Additional accent colors */
    --accent-green: #22c55e;
    --accent-green-light: rgba(34, 197, 94, 0.1);
    --accent-yellow: #eab308;
    --accent-yellow-light: rgba(234, 179, 8, 0.1);
    --accent-red: #ef4444;
    --accent-red-light: rgba(239, 68, 68, 0.1);

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

    /* Status colors - Light theme */
    --status-success-bg: #d1fae5;
    --status-success-text: #065f46;
    --status-warning-bg: #fef3c7;
    --status-warning-text: #92400e;
    --status-danger-bg: #fee2e2;
    --status-danger-text: #991b1b;
    --status-info-bg: #dbeafe;
    --status-info-text: #1e40af;

    /* Gemini Dark Theme Variables */
    --gemini-bg-main: #131314;
    --gemini-bg-nav: #1E1F20;
    --gemini-text-titles: #C4C7C5;
    --gemini-text-nav: #C1C4C2;

    /* Login page specific */
    --login-card-bg: #ffffff;
    --login-input-bg: #ffffff;
    --login-button-bg: #3b82f6;
    --login-button-hover: #2563eb;

    /* Scrollbar colors */
    --scrollbar-track: #f1f1f1;
    --scrollbar-thumb: #cbd5e0;
    --scrollbar-thumb-hover: #a0aec0;
}

/* Dark Theme - Gemini Inspired */
.dark {
    /* Gemini Theme Mapping */
    --bg-primary: #1E1F20;
    /* Left Nav & Cards */
    --bg-secondary: #131314;
    /* Main Background */
    --bg-tertiary: #2D2E30;
    /* Inputs/Hovers */
    --bg-elevated: #1E1F20;
    /* Cards */

    --text-primary: #C4C7C5;
    /* Titles */
    --text-secondary: #C1C4C2;
    /* Nav Text */
    --text-tertiary: #8E918F;
    --text-inverse: #1e1e1e;

    --border-primary: #444746;
    --border-secondary: #2D2E30;
    --border-focus: #3b82f6;

    /* Accents - Blue theme for dark mode */
    --accent-blue: #3b82f6;
    --accent-blue-hover: #2563eb;
    --accent-blue-light: #1e3a8a;
    --accent-cyan: #14b8a6;
    --accent-cyan-hover: #0d9488;
    --accent-cyan-light: #134e4a;

    /* Purple accent for admin dashboard - dark mode */
    --accent-purple: #a855f7;
    --accent-purple-hover: #9333ea;
    --accent-purple-light: rgba(168, 85, 247, 0.2);

    /* Additional accent colors - dark mode */
    --accent-green: #4ade80;
    --accent-green-light: rgba(74, 222, 128, 0.2);
    --accent-yellow: #facc15;
    --accent-yellow-light: rgba(250, 204, 21, 0.2);
    --accent-red: #f87171;
    --accent-red-light: rgba(248, 113, 113, 0.2);

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.6), 0 2px 4px -1px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.7), 0 4px 6px -2px rgba(0, 0, 0, 0.6);

    /* Status colors */
    --status-success-bg: #134e4a;
    --status-success-text: #5eead4;
    --status-warning-bg: #713f12;
    --status-warning-text: #fcd34d;
    --status-danger-bg: #7f1d1d;
    --status-danger-text: #fca5a5;
    --status-info-bg: #4c1d95;
    --status-info-text: #c4b5fd;

    /* Login page specific - dark theme */
    --login-card-bg: #1E1F20;
    --login-input-bg: #2D2E30;
    --login-button-bg: #a855f7;
    --login-button-hover: #9333ea;

    /* Scrollbar colors */
    --scrollbar-track: #1e1e1e;
    --scrollbar-thumb: #4a4a4a;
    --scrollbar-thumb-hover: #5a5a5a;
}

/* Smooth theme transitions */
.theme-transitioning,
.theme-transitioning *,
.theme-transitioning *:before,
.theme-transitioning *:after {
    transition: background-color 0.3s ease,
        border-color 0.3s ease,
        color 0.3s ease,
        box-shadow 0.3s ease !important;
}

/* Apply theme colors to common elements */
body {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.bg-white {
    background-color: var(--bg-primary) !important;
}

.bg-gray-50 {
    background-color: var(--bg-secondary) !important;
}

.bg-gray-100 {
    background-color: var(--bg-tertiary) !important;
}

.text-gray-900 {
    color: var(--text-primary) !important;
}

.text-gray-700 {
    color: var(--text-secondary) !important;
}

.text-gray-500,
.text-gray-600 {
    color: var(--text-tertiary) !important;
}

.border-gray-200 {
    border-color: var(--border-primary) !important;
}

.border-gray-300 {
    border-color: var(--border-secondary) !important;
}

/* Card styling for dark mode */
.dark .card,
.dark .bg-white {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

/* Input fields in dark mode */
.dark input,
.dark select,
.dark textarea {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    color: var(--text-primary);
}

.dark input::placeholder,
.dark select::placeholder,
.dark textarea::placeholder {
    color: var(--text-tertiary);
}

.dark input:focus,
.dark select:focus,
.dark textarea:focus {
    border-color: var(--border-focus);
    background-color: var(--bg-primary);
}

/* Table styles in dark mode */
.dark table {
    color: var(--text-primary);
}

.dark thead {
    background-color: var(--bg-tertiary);
}

.dark tbody tr {
    border-color: var(--border-primary);
}

.dark tbody tr:hover {
    background-color: var(--bg-tertiary) !important;
}

/* Ensure text remains readable on table row hover in dark mode */
.dark tbody tr:hover td {
    color: inherit;
}

/* Only apply light text to file name in dark mode, not to badges or icons */
.dark tbody tr:hover .text-gray-900:not(.file-metadata-badge):not(.file-metadata-badge *),
.dark tbody tr:hover .text-gray-100:not(.file-metadata-badge):not(.file-metadata-badge *) {
    color: var(--text-primary) !important;
}

/* Keep metadata badges with their original styling on hover in dark mode */
.dark tbody tr:hover .file-metadata-badge {
    color: inherit;
}

/* Dark mode table body background override */
.dark tbody.bg-white,
.dark table tbody {
    background-color: var(--bg-secondary) !important;
}

/* Specific dark mode hover for file table rows */
.dark table tbody tr.group:hover,
.dark table tbody tr:hover {
    background-color: var(--bg-tertiary) !important;
}

/* Override inline Tailwind hover classes in dark mode */
.dark tr.hover\:bg-gray-50:hover {
    background-color: var(--bg-tertiary) !important;
}

/* ===================================
   DASHBOARD STAT CARDS
   Theme-aware statistics cards
   =================================== */

/* Base stat card styling */
.stat-card {
    transition: all 0.2s ease;
}

.stat-card .stat-label {
    color: var(--text-tertiary);
}

/* Blue stat card */
.stat-card-blue {
    background-color: #eff6ff;
}

.stat-card-blue .stat-value {
    color: #2563eb;
}

.stat-card-blue svg.stat-value {
    stroke: #2563eb;
}

.dark .stat-card-blue {
    background-color: rgba(37, 99, 235, 0.15);
}

.dark .stat-card-blue .stat-value {
    color: #60a5fa;
}

.dark .stat-card-blue svg.stat-value {
    stroke: #60a5fa;
}

/* Green stat card */
.stat-card-green {
    background-color: #f0fdf4;
}

.stat-card-green .stat-value {
    color: #16a34a;
}

.stat-card-green svg.stat-value {
    stroke: #16a34a;
}

.dark .stat-card-green {
    background-color: rgba(22, 163, 74, 0.15);
}

.dark .stat-card-green .stat-value {
    color: #4ade80;
}

.dark .stat-card-green svg.stat-value {
    stroke: #4ade80;
}

/* Purple stat card */
.stat-card-purple {
    background-color: #faf5ff;
}

.stat-card-purple .stat-value {
    color: #9333ea;
}

.stat-card-purple svg.stat-value {
    stroke: #9333ea;
}

.dark .stat-card-purple {
    background-color: rgba(147, 51, 234, 0.15);
}

.dark .stat-card-purple .stat-value {
    color: #c084fc;
}

.dark .stat-card-purple svg.stat-value {
    stroke: #c084fc;
}

/* Yellow/Amber stat card */
.stat-card-yellow {
    background-color: #fefce8;
}

.stat-card-yellow .stat-value {
    color: #ca8a04;
}

.stat-card-yellow svg.stat-value {
    stroke: #ca8a04;
}

.dark .stat-card-yellow {
    background-color: rgba(202, 138, 4, 0.15);
}

.dark .stat-card-yellow .stat-value {
    color: #fbbf24;
}

.dark .stat-card-yellow svg.stat-value {
    stroke: #fbbf24;
}

/* Red stat card */
.stat-card-red {
    background-color: #fef2f2;
}

.stat-card-red .stat-value {
    color: #dc2626;
}

.stat-card-red svg.stat-value {
    stroke: #dc2626;
}

.dark .stat-card-red {
    background-color: rgba(220, 38, 38, 0.15);
}

.dark .stat-card-red .stat-value {
    color: #f87171;
}

.dark .stat-card-red svg.stat-value {
    stroke: #f87171;
}

/* Modal backdrop in dark mode */
.dark .modal-backdrop {
    background-color: rgba(0, 0, 0, 0.7);
}

/* ===================================
   MODAL DIALOG BUTTONS - DARK MODE
   =================================== */

/* Modal container in dark mode */
.dark [role="dialog"] .bg-white,
.dark [role="dialog"]>div>.bg-white {
    background-color: var(--bg-elevated) !important;
}

/* Modal header and footer borders */
.dark [role="dialog"] .border-b,
.dark [role="dialog"] .border-t {
    border-color: var(--border-primary) !important;
}

/* Modal title text */
.dark [role="dialog"] .text-gray-900,
.dark [role="dialog"] #modalTitle {
    color: var(--text-primary) !important;
}

/* Modal content labels */
.dark [role="dialog"] .text-gray-700,
.dark [role="dialog"] label {
    color: var(--text-secondary) !important;
}

/* Primary button (Download, Submit, Confirm) - Purple accent in dark mode */
.dark [role="dialog"] button.bg-blue-600,
.dark [role="dialog"] button[data-action="download"],
.dark [role="dialog"] button[data-action="confirm"],
.dark [role="dialog"] button[data-action="submit"] {
    background-color: var(--accent-blue) !important;
    color: #ffffff !important;
    border: none !important;
}

.dark [role="dialog"] button.bg-blue-600:hover,
.dark [role="dialog"] button[data-action="download"]:hover,
.dark [role="dialog"] button[data-action="confirm"]:hover,
.dark [role="dialog"] button[data-action="submit"]:hover {
    background-color: var(--accent-blue-hover) !important;
}

/* Secondary button (Close, Cancel) - Dark background with light text */
.dark [role="dialog"] button.bg-gray-200,
.dark [role="dialog"] button[data-action="close"],
.dark [role="dialog"] button[data-action="cancel"] {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-primary) !important;
}

.dark [role="dialog"] button.bg-gray-200:hover,
.dark [role="dialog"] button[data-action="close"]:hover,
.dark [role="dialog"] button[data-action="cancel"]:hover {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-secondary) !important;
}

/* Ensure text-gray-800 in buttons is overridden */
.dark [role="dialog"] button.text-gray-800 {
    color: var(--text-primary) !important;
}

/* Toast notifications in dark mode */
.dark .toast {
    height: 40px;
    border-radius: 0.5rem;
    background-color: var(--bg-tertiary);
    border: 1px solid var(--border-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--text-secondary);
}

.theme-toggle:hover {
    background-color: var(--accent-blue-light);
    color: var(--accent-blue);
    transform: scale(1.05);
}

.theme-toggle svg {
    width: 20px;
    height: 20px;
}

/* Hide/show theme icons based on current theme */
.dark .theme-toggle .sun-icon {
    display: block;
}

.dark .theme-toggle .moon-icon {
    display: none;
}

.theme-toggle .sun-icon {
    display: none;
}

.theme-toggle .moon-icon {
    display: block;
}

/* Focus visible for better accessibility */
*:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Smooth transitions - Removed global rule for better performance */
/* * {
    transition-property: color, background-color, border-color, transform, box-shadow;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
} */

/* Loading spinner animation */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.animate-spin {
    animation: spin 1s linear infinite;
}

/* ===================================
   BUTTON LOADING STATES
   =================================== */

/* Button loading state */
.btn-loading {
    position: relative;
    cursor: not-allowed !important;
    opacity: 0.85;
}

.btn-loading:hover {
    transform: none !important;
}

/* Spinner inside button */
.btn-spinner {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
}

/* Loading button pulse effect */
@keyframes btn-pulse {
    0%, 100% {
        opacity: 0.85;
    }
    50% {
        opacity: 0.7;
    }
}

.btn-loading {
    animation: btn-pulse 1.5s ease-in-out infinite;
}

/* Disabled button styles during loading */
button:disabled.btn-loading,
.btn:disabled.btn-loading {
    background-color: inherit;
    color: inherit;
}

/* Primary button loading (purple/blue) */
.bg-purple-600.btn-loading,
.bg-blue-600.btn-loading {
    background-color: rgba(147, 51, 234, 0.9) !important;
}

.bg-blue-600.btn-loading {
    background-color: rgba(59, 130, 246, 0.9) !important;
}

/* Danger button loading (red) */
.bg-red-600.btn-loading {
    background-color: rgba(220, 38, 38, 0.9) !important;
}

/* Success button loading (green) */
.bg-green-600.btn-loading {
    background-color: rgba(22, 163, 74, 0.9) !important;
}

/* Login button specific loading */
.login-btn.btn-loading {
    background-color: rgba(59, 130, 246, 0.9) !important;
}

/* Dark mode adjustments for loading buttons */
.dark .btn-loading {
    opacity: 0.8;
}

/* Fade in animation for modals */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.fade-in {
    animation: fadeIn 0.2s ease-in;
}

/* Slide in animation for toasts */
@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.slide-in {
    animation: slideIn 0.3s ease-out;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* Status badges */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    line-height: 1;
}

.badge-success {
    background-color: #d1fae5;
    color: #065f46;
}

.badge-warning {
    background-color: #fef3c7;
    color: #92400e;
}

.badge-danger {
    background-color: #fee2e2;
    color: #991b1b;
}

.badge-info {
    background-color: #dbeafe;
    color: #1e40af;
}

.badge-gray {
    background-color: #f3f4f6;
    color: #374151;
}

/* File upload area */
.file-upload-area {
    border: 2px dashed #d1d5db;
    border-radius: 0.5rem;
    padding: 2rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
}

.file-upload-area:hover {
    border-color: #3b82f6;
    background-color: #eff6ff;
}

.file-upload-area.dragover {
    border-color: #3b82f6;
    background-color: #dbeafe;
}

/* Card hover effect */
.card-hover {
    transition: all 0.2s;
}

.card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Filter button active state */
.filter-btn {
    transition: all 0.2s;
}

.filter-btn.active {
    background-color: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

.filter-btn:not(.active) {
    background-color: white;
    color: #4b5563;
    border-color: #d1d5db;
    transition: all 0.2s;
}

.filter-btn:not(.active):hover {
    background-color: #f9fafb;
}

/* Table row hover */
tbody tr {
    transition: background-color 0.15s;
}

tbody tr:hover {
    background-color: #f9fafb;
}

/* Ensure text remains readable on table row hover */
tbody tr:hover td {
    color: inherit;
}

/* Only apply dark text to file name, not to badges or icons */
tbody tr:hover .text-gray-900:not(.file-metadata-badge):not(.file-metadata-badge *),
tbody tr:hover .text-gray-700:not(.file-metadata-badge):not(.file-metadata-badge *) {
    color: #111827 !important;
    /* Ensure dark text on light hover background */
}

/* Keep metadata badges with their original styling on hover */
tbody tr:hover .file-metadata-badge {
    color: inherit;
}

/* Modal backdrop */
.modal-backdrop {
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

/* Progress bar */
.progress-bar {
    height: 8px;
    background-color: #e5e7eb;
    border-radius: 9999px;
    overflow: hidden;
    position: relative;
}

.progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
    transition: width 0.3s ease;
    border-radius: 9999px;
    position: relative;
    overflow: hidden;
}

.progress-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.3),
            transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(100%);
    }
}

/* Skeleton loading */
.skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
}

/* Dark mode skeleton */
.dark .skeleton {
    background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
    background-size: 200% 100%;
}

@keyframes loading {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* Enhanced skeleton loaders */
.skeleton-card {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin-bottom: 1rem;
}

/* Dark mode skeleton card */
.dark .skeleton-card {
    background: var(--bg-elevated, #1f2937);
    border-color: var(--border-primary, #374151);
}

/* Skeleton inner box for nested content */
.skeleton-inner-box {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
}

/* Dark mode skeleton inner box */
.dark .skeleton-inner-box {
    background: var(--bg-tertiary, #374151);
    border-color: var(--border-primary, #4b5563);
}

.skeleton-line {
    height: 1rem;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
    border-radius: 0.25rem;
    margin-bottom: 0.75rem;
}

/* Dark mode skeleton line */
.dark .skeleton-line {
    background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
    background-size: 200% 100%;
}

.skeleton-line.w-full {
    width: 100%;
}

.skeleton-line.w-3-4 {
    width: 75%;
}

.skeleton-line.w-1-2 {
    width: 50%;
}

.skeleton-line.w-1-4 {
    width: 25%;
}

.skeleton-line.h-4 {
    height: 1rem;
}

.skeleton-line.h-6 {
    height: 1.5rem;
}

.skeleton-line.h-8 {
    height: 2rem;
}

.skeleton-line.h-12 {
    height: 3rem;
}

.skeleton-line.h-16 {
    height: 4rem;
}

.skeleton-circle {
    border-radius: 9999px;
}

/* Loading spinner */
.spinner {
    border: 3px solid #f3f4f6;
    border-top: 3px solid #3b82f6;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
}

.spinner-sm {
    width: 20px;
    height: 20px;
    border-width: 2px;
}

.spinner-lg {
    width: 60px;
    height: 60px;
    border-width: 4px;
}

/* Notification badge pulse */
@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

.notification-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Print styles */
@media print {

    header,
    footer,
    button,
    .no-print {
        display: none !important;
    }

    body {
        background: white;
    }

    .container {
        max-width: 100%;
        margin: 0;
        padding: 0;
    }
}

/* Responsive table wrapper */
.table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Tooltip */
.tooltip {
    position: relative;
}

.tooltip:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.5rem;
    background-color: #1f2937;
    color: white;
    font-size: 0.75rem;
    border-radius: 0.25rem;
    white-space: nowrap;
    z-index: 50;
    margin-bottom: 0.25rem;
}

/* Notification dropdown */
#notificationsDropdown {
    animation: fadeIn 0.2s ease-out;
}

#notificationsDropdown::-webkit-scrollbar {
    width: 6px;
}

#notificationsDropdown::-webkit-scrollbar-track {
    background: #f1f1f1;
}

#notificationsDropdown::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
}

#notificationsDropdown::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Notification list scrollbar */
#notificationsList::-webkit-scrollbar {
    width: 6px;
}

#notificationsList::-webkit-scrollbar-track {
    background: #f9fafb;
}

#notificationsList::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 3px;
}

#notificationsList::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}

/* Tab styling */
.tab-button {
    transition: all 0.2s;
}

.tab-button.active {
    border-bottom-color: #3b82f6;
    color: #3b82f6;
}

.tab-button:not(.active):hover {
    border-bottom-color: #d1d5db;
    color: #374151;
}

/* File Explorer Enhancements */
.file-explorer-item {
    transition: all 0.2s ease-in-out;
}

.file-explorer-item:hover {
    transform: translateX(4px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.file-explorer-folder {
    transition: all 0.2s ease-in-out;
}

.file-explorer-folder:hover {
    transform: scale(1.02);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.15);
}

.file-icon-container {
    transition: all 0.2s ease-in-out;
}

.file-explorer-item:hover .file-icon-container {
    transform: scale(1.1);
    background-color: #e5e7eb;
}

.folder-icon {
    transition: all 0.2s ease-in-out;
}

.file-explorer-folder:hover .folder-icon {
    transform: scale(1.15) rotate(-5deg);
}

.download-button {
    transition: all 0.2s ease-in-out;
}

.download-button:hover {
    transform: scale(1.15);
}

.own-folder-indicator {
    animation: subtle-pulse 3s ease-in-out infinite;
}

@keyframes subtle-pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.8;
    }
}

.file-metadata-badge {
    transition: all 0.2s ease-in-out;
}

.file-explorer-item:hover .file-metadata-badge {
    background-color: #dbeafe;
    color: #1e40af;
}

/* Dark theme overrides for file explorer cards */
.dark .file-explorer-item {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
    box-shadow: none !important;
}

.dark .file-explorer-item:hover {
    background-color: var(--bg-tertiary) !important;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.45) !important;
}

.dark .file-explorer-item:hover .file-icon-container {
    background-color: rgba(148, 163, 184, 0.2) !important;
}

.dark .file-explorer-item:hover .file-metadata-badge {
    background-color: rgba(59, 130, 246, 0.2) !important;
    color: var(--text-primary) !important;
}

/* File type specific colors */
.file-icon-pdf {
    color: #dc2626;
}

.file-icon-zip {
    color: #f59e0b;
}

.file-icon-doc {
    color: #2563eb;
}

.file-icon-image {
    color: #10b981;
}

/* Tailwind color overrides for dark mode */
.dark .bg-blue-50,
.dark .bg-blue-100 {
    background-color: var(--bg-tertiary) !important;
}

.dark .bg-blue-600 {
    background-color: var(--accent-blue) !important;
}

.dark .text-blue-700,
.dark .text-blue-900 {
    color: var(--text-primary) !important;
}

.dark .text-gray-800 {
    color: var(--text-primary) !important;
}

.dark .text-red-600,
.dark .text-red-700 {
    color: var(--status-danger-text) !important;
}

.dark .bg-red-50 {
    background-color: var(--status-danger-bg) !important;
    border-color: var(--status-danger-text) !important;
}

.dark .border-red-200 {
    border-color: var(--status-danger-text) !important;
}

/* Invert logo in dark mode */
.dark img[src*="logo"] {
    filter: brightness(0) invert(1);
    opacity: 0.9;
}

.dark .text-blue-600 {
    color: var(--accent-blue) !important;
}

.dark .border-blue-100,
.dark .border-blue-200 {
    border-color: var(--border-primary) !important;
}

.dark .border-red-200 {
    border-color: var(--status-danger-text) !important;
}

.dark .bg-green-50 {
    background-color: var(--bg-tertiary) !important;
}

.dark .text-green-600 {
    color: var(--accent-cyan) !important;
}

.dark .bg-purple-50 {
    background-color: var(--bg-tertiary) !important;
}

.dark .text-purple-600 {
    color: var(--accent-blue) !important;
}

.dark .text-red-600 {
    color: #f87171 !important;
}

/* ===================================
   SIDEBAR DARK MODE OVERRIDES
   =================================== */

/* Sidebar Container */
.dark aside.bg-white {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-primary) !important;
}

/* Sidebar Header */
.dark aside .border-gray-100 {
    border-color: var(--border-primary) !important;
}

.dark aside .text-gray-900 {
    color: var(--text-primary) !important;
}

.dark aside .text-gray-500 {
    color: var(--text-secondary) !important;
}

/* Navigation Tabs */
.dark .nav-tab {
    color: #ffffff !important;
}

.dark .nav-tab:hover {
    background-color: rgba(66, 133, 244, 0.15) !important;
    color: #ffffff !important;
}

.dark .nav-tab.active {
    background-color: rgba(66, 133, 244, 0.2) !important;
    color: #8ab4f8 !important;
}

/* Sidebar Footer (Logout) */
.dark aside .border-t {
    border-color: var(--border-primary) !important;
}

.dark #logoutBtn:hover {
    background-color: rgba(239, 68, 68, 0.1) !important;
}

/* ===================================
   MODAL DARK MODE OVERRIDES
   =================================== */

/* Modal Background */
.dark #uploadModal .bg-white,
.dark .modal-content {
    background-color: var(--bg-elevated) !important;
    color: var(--text-primary) !important;
}

/* Modal Header */
.dark #uploadModal .border-b,
.dark .modal-header {
    border-color: var(--border-primary) !important;
}

.dark #uploadModalTitle,
.dark .modal-title {
    color: var(--text-primary) !important;
}

.dark #uploadModal button.text-gray-400:hover,
.dark .modal-close:hover {
    color: var(--text-primary) !important;
}

/* Modal Close Button (X) - Dark Mode High Visibility - CRITICAL FIX */
/* Target all possible close button selectors with maximum specificity */
.dark [data-close-modal],
.dark .modal-close,
.dark [role="dialog"] button[data-close-modal],
.dark .rounded-lg button[data-close-modal],
.dark .bg-white button.text-gray-400,
.dark [role="dialog"] button.text-gray-400,
.dark .shadow-xl button.text-gray-400 {
    color: #C4C7C5 !important;
    opacity: 1 !important;
}

.dark [data-close-modal]:hover,
.dark .modal-close:hover,
.dark [role="dialog"] button[data-close-modal]:hover,
.dark .rounded-lg button[data-close-modal]:hover,
.dark .bg-white button.text-gray-400:hover,
.dark [role="dialog"] button.text-gray-400:hover,
.dark .shadow-xl button.text-gray-400:hover {
    color: #ffffff !important;
    background-color: rgba(255, 255, 255, 0.15) !important;
    border-radius: 4px;
}

/* Ensure X button SVG is visible - target stroke color */
.dark [data-close-modal] svg,
.dark .modal-close svg,
.dark [role="dialog"] button svg,
.dark .bg-white button.text-gray-400 svg {
    color: #C4C7C5 !important;
    stroke: #C4C7C5 !important;
}

.dark [data-close-modal]:hover svg,
.dark .modal-close:hover svg,
.dark [role="dialog"] button:hover svg,
.dark .bg-white button.text-gray-400:hover svg {
    color: #ffffff !important;
    stroke: #ffffff !important;
}

/* Modal Body Inputs */
.dark #uploadModal label,
.dark .modal-body label {
    color: var(--text-secondary) !important;
}

.dark #uploadModal input[type="file"],
.dark #uploadModal textarea,
.dark .modal-body input,
.dark .modal-body textarea {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

.dark #uploadModal input[type="file"]:focus,
.dark #uploadModal textarea:focus,
.dark .modal-body input:focus,
.dark .modal-body textarea:focus {
    border-color: var(--accent-blue) !important;
    outline: 2px solid var(--accent-blue) !important;
    outline-offset: 2px !important;
}

.dark #uploadModal p.text-gray-500,
.dark .modal-body p.text-muted {
    color: var(--text-tertiary) !important;
}

/* Modal Footer */
.dark #uploadModal .border-t,
.dark .modal-footer {
    border-color: var(--border-primary) !important;
}

.dark #uploadModal button.bg-white,
.dark .modal-footer .btn-secondary {
    background-color: var(--bg-tertiary) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

.dark #uploadModal button.bg-white:hover,
.dark .modal-footer .btn-secondary:hover {
    background-color: var(--bg-secondary) !important;
}

/* File Details Modal Specifics (if dynamically generated) */
.dark .file-details-modal {
    background-color: var(--bg-elevated) !important;
    color: var(--text-primary) !important;
}

.dark .file-details-label {
    color: var(--text-secondary) !important;
}

.dark .file-details-value {
    color: var(--text-primary) !important;
}

/* Modal Buttons Dark Mode Support */
/* Primary button (Download, Submit, etc.) - Keep purple/blue accent */
.dark button[data-action="download"],
.dark button[data-action="confirm"],
.dark button.bg-blue-600 {
    background-color: var(--accent-blue) !important;
    color: white !important;
}

.dark button[data-action="download"]:hover,
.dark button[data-action="confirm"]:hover,
.dark button.bg-blue-600:hover {
    background-color: var(--accent-blue-hover) !important;
}

/* Secondary button (Close, Cancel, etc.) - Dark background with light text */
.dark button[data-action="close"],
.dark button[data-action="cancel"],
.dark button.bg-gray-200 {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-primary) !important;
}

.dark button[data-action="close"]:hover,
.dark button[data-action="cancel"]:hover,
.dark button.bg-gray-200:hover {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-secondary) !important;
}

/* Override Tailwind text color classes in modal buttons */
.dark button.text-gray-800,
.dark [role="dialog"] button.text-gray-800 {
    color: var(--text-primary) !important;
}

/* Ensure all modal buttons in dark mode have proper styling */
.dark .bg-white button.bg-gray-200,
.dark [role="dialog"] button.bg-gray-200,
.dark .rounded-lg button.bg-gray-200 {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

/* Specifically target buttons with both bg-gray-200 and text-gray-800 classes */
.dark button.bg-gray-200.text-gray-800 {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-primary) !important;
}

.dark button.bg-gray-200.text-gray-800:hover {
    background-color: var(--bg-secondary) !important;
}

/* ===================================
   DASHBOARD CONTENT DARK MODE OVERRIDES
   =================================== */

/* Main Content Area */
.dark main .bg-white {
    background-color: var(--bg-secondary) !important;
}

.dark main .bg-gray-50 {
    background-color: var(--bg-tertiary) !important;
}

/* Text Colors */
.dark main .text-gray-900,
.dark main .text-gray-800 {
    color: var(--text-primary) !important;
}

.dark main .text-gray-700,
.dark main .text-gray-600,
.dark main .text-gray-500 {
    color: var(--text-secondary) !important;
}

.dark main .text-gray-400 {
    color: var(--text-tertiary) !important;
}

/* Borders */
.dark main .border-gray-200,
.dark main .border-gray-100 {
    border-color: var(--border-primary) !important;
}

/* Inputs and Selects */
.dark main select,
.dark main input,
.dark main textarea {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
}

.dark main select:focus,
.dark main input:focus,
.dark main textarea:focus {
    border-color: var(--accent-blue) !important;
    outline: 2px solid var(--accent-blue) !important;
    outline-offset: 2px !important;
}

/* Stat Cards Specifics */
.dark .card {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-primary) !important;
}

/* Quick Summary Card */
.dark #dashboardSummary {
    color: var(--text-secondary) !important;
}

/* ===================================
   DASHBOARD HEADER DARK MODE OVERRIDES
   =================================== */

/* Header Background and Border */
.dark header.bg-white {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-primary) !important;
}

/* Header Text */
.dark header .text-gray-900,
.dark header .text-gray-800 {
    color: var(--text-primary) !important;
}

.dark header .text-gray-500 {
    color: var(--text-secondary) !important;
}

/* Mobile Menu Button */
.dark header button.text-gray-500:hover {
    color: var(--text-primary) !important;
}

/* Notification Button */
.dark #notificationsBtn {
    color: var(--text-secondary) !important;
}

.dark #notificationsBtn:hover {
    color: var(--text-primary) !important;
    background-color: var(--bg-tertiary) !important;
}

/* Notification Dropdown */
.dark #notificationsDropdown {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-primary) !important;
}

.dark #notificationsDropdown .border-gray-200 {
    border-color: var(--border-primary) !important;
}

.dark #notificationsDropdown h3 {
    color: var(--text-primary) !important;
}

.dark #notificationsDropdown #closeNotificationsDropdown {
    color: var(--text-tertiary) !important;
}

.dark #notificationsDropdown #closeNotificationsDropdown:hover {
    color: var(--text-primary) !important;
}

.dark #notificationsDropdown p.text-gray-500 {
    color: var(--text-secondary) !important;
}

/* Notification Items in Dark Mode */
.dark #notificationsDropdown #notificationsList>div {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-primary) !important;
}

.dark #notificationsDropdown #notificationsList>div.bg-white {
    background-color: var(--bg-elevated) !important;
}

.dark #notificationsDropdown #notificationsList>div.bg-blue-50 {
    background-color: var(--accent-blue-light) !important;
}

.dark #notificationsDropdown #notificationsList>div:hover {
    background-color: var(--bg-tertiary) !important;
}

.dark #notificationsDropdown #notificationsList .text-gray-900 {
    color: var(--text-primary) !important;
}

.dark #notificationsDropdown #notificationsList .text-gray-700 {
    color: var(--text-secondary) !important;
}

.dark #notificationsDropdown #notificationsList .text-gray-500 {
    color: var(--text-tertiary) !important;
}

.dark #notificationsDropdown #notificationsList .border-gray-100 {
    border-color: var(--border-primary) !important;
}

/* Profile Section */
.dark #professorName {
    color: var(--text-primary) !important;
}

.dark header .bg-blue-100 {
    background-color: var(--accent-blue) !important;
    color: #ffffff !important;
}

/* ===================================
   LOGIN PAGE DARK MODE OVERRIDES
   =================================== */

/* Login page body background */
.dark body.bg-gray-50 {
    background-color: var(--bg-secondary) !important;
}

/* Login card */
.dark .bg-white.rounded-lg.shadow-md {
    background-color: var(--login-card-bg) !important;
    box-shadow: var(--shadow-lg) !important;
}

/* Login page headings */
.dark h1.text-gray-900 {
    color: var(--text-primary) !important;
}

.dark h2.text-gray-800 {
    color: var(--text-primary) !important;
}

/* Login page subtitle */
.dark p.text-gray-600 {
    color: var(--text-secondary) !important;
}

/* Login form labels */
.dark label.text-gray-700 {
    color: var(--text-secondary) !important;
}

/* Login form inputs */
.dark input[type="email"],
.dark input[type="password"] {
    background-color: var(--login-input-bg) !important;
    border-color: var(--border-primary) !important;
    color: var(--text-primary) !important;
}

.dark input[type="email"]::placeholder,
.dark input[type="password"]::placeholder {
    color: var(--text-tertiary) !important;
}

.dark input[type="email"]:focus,
.dark input[type="password"]:focus {
    border-color: var(--border-focus) !important;
    background-color: var(--bg-tertiary) !important;
}

/* Login button */
.dark button[type="submit"].bg-blue-600 {
    background-color: var(--login-button-bg) !important;
}

.dark button[type="submit"].bg-blue-600:hover {
    background-color: var(--login-button-hover) !important;
}

/* Error messages */
.dark .text-red-600 {
    color: #fca5a5 !important;
}

.dark .bg-red-50 {
    background-color: var(--status-danger-bg) !important;
}

.dark .border-red-200 {
    border-color: #7f1d1d !important;
}

.dark .text-red-700 {
    color: var(--status-danger-text) !important;
}

/* Loading overlay */
.dark #loadingOverlay .bg-white {
    background-color: var(--bg-elevated) !important;
}

.dark #loadingOverlay .text-gray-700 {
    color: var(--text-primary) !important;
}

/* Footer text */
.dark footer.text-gray-600 {
    color: var(--text-tertiary) !important;
}

/* Theme toggle button */
.dark .theme-toggle {
    color: var(--text-secondary);
    background-color: transparent;
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.theme-toggle {
    color: var(--text-secondary);
    background-color: transparent;
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.dark .theme-toggle:hover {
    background-color: var(--bg-tertiary);
    border-color: var(--accent-blue);
    color: var(--accent-blue);
}

/* Logo filter for dark mode - Invert black logo to white */
.dark img[alt*="logo"] {
    filter: brightness(0) invert(1);
    opacity: 0.9;
}

/* ===================================
   FILE PREVIEW MODAL RESPONSIVE DESIGN
   =================================== */

/* Desktop (default) - already defined in modal structure */

/* Tablet breakpoint (768px - 1023px) */
@media (max-width: 1023px) {

    /* Modal container adjustments */
    [role="dialog"]>div {
        max-width: 90vw !important;
        max-height: 85vh !important;
    }

    /* Modal header - stack elements on smaller tablets */
    [role="dialog"] .flex.items-center.justify-between {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    /* Preview metadata - wrap badges */
    .preview-metadata {
        flex-wrap: wrap;
        gap: 0.25rem !important;
    }

    /* Modal content area - adjust padding */
    .preview-content {
        padding: 1rem !important;
    }

    /* Search bar - adjust spacing */
    #preview-search-bar {
        padding: 0.75rem !important;
    }

    #preview-search-bar .flex {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    /* Button sizes - ensure touch-friendly */
    [role="dialog"] button {
        min-width: 44px;
        min-height: 44px;
        padding: 0.625rem !important;
    }

    /* Text buttons with labels */
    [role="dialog"] button:not([aria-label]) {
        padding: 0.625rem 1rem !important;
    }

    /* PDF renderer controls */
    .pdf-controls {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    /* Code renderer - adjust font size */
    .code-preview pre {
        font-size: 0.875rem !important;
    }

    /* Text renderer - adjust font size */
    .text-preview {
        font-size: 0.9375rem !important;
    }
}

/* Mobile breakpoint (max-width: 767px) */
@media (max-width: 767px) {

    /* Modal container - full screen on mobile */
    [role="dialog"] {
        padding: 0 !important;
    }

    [role="dialog"]>div {
        max-width: 100vw !important;
        max-height: 100vh !important;
        height: 100vh !important;
        border-radius: 0 !important;
        margin: 0 !important;
    }

    /* Modal header - vertical layout */
    [role="dialog"] .flex.items-center.justify-between {
        flex-direction: column;
        align-items: flex-start;
        padding: 1rem !important;
        gap: 0.75rem;
    }

    /* Title section - full width */
    [role="dialog"] .flex-1.min-w-0 {
        width: 100%;
        min-width: 100%;
    }

    /* Modal title - smaller font */
    #preview-modal-title {
        font-size: 1rem !important;
        line-height: 1.5rem !important;
    }

    /* Action buttons container - full width */
    [role="dialog"] .flex.items-center.gap-2 {
        width: 100%;
        justify-content: flex-end;
        margin-left: 0 !important;
    }

    /* Metadata badges - smaller text */
    .preview-metadata {
        font-size: 0.6875rem !important;
    }

    /* Modal content area - minimal padding */
    .preview-content {
        padding: 0.75rem !important;
    }

    /* Search bar - vertical layout */
    #preview-search-bar {
        padding: 0.75rem !important;
    }

    #preview-search-bar .flex {
        flex-direction: column;
        gap: 0.5rem;
    }

    #preview-search-bar .flex-1 {
        width: 100%;
    }

    #preview-search-bar .flex.items-center.gap-1 {
        width: 100%;
        justify-content: space-between;
    }

    /* Search count - adjust positioning */
    #preview-search-count {
        min-width: auto !important;
        flex: 1;
    }

    /* Touch-friendly button sizes (minimum 44x44px) */
    [role="dialog"] button {
        min-width: 44px;
        min-height: 44px;
        padding: 0.75rem !important;
        touch-action: manipulation;
    }

    /* Text buttons with labels - larger padding */
    [role="dialog"] button:not([aria-label]) {
        padding: 0.75rem 1.25rem !important;
        font-size: 0.9375rem !important;
    }

    /* Large file warning - adjust layout */
    .preview-content .flex.flex-col.items-center {
        padding: 2rem 1rem !important;
    }

    .preview-content .flex.flex-col.items-center svg {
        width: 3rem !important;
        height: 3rem !important;
    }

    .preview-content .flex.flex-col.items-center .text-lg {
        font-size: 1rem !important;
    }

    .preview-content .flex.flex-col.items-center .text-sm {
        font-size: 0.8125rem !important;
    }

    /* Action buttons - stack vertically on mobile */
    .preview-content .flex.flex-col.sm\\:flex-row,
    .preview-content .flex.gap-2,
    .preview-content .flex.gap-3 {
        flex-direction: column !important;
        width: 100%;
    }

    .preview-content .flex.flex-col.sm\\:flex-row button,
    .preview-content .flex.gap-2 button,
    .preview-content .flex.gap-3 button {
        width: 100%;
    }

    /* PDF renderer - adjust controls */
    .pdf-controls {
        flex-direction: column;
        gap: 0.5rem;
        padding: 0.75rem !important;
    }

    .pdf-controls button {
        width: 100%;
    }

    .pdf-page-info {
        order: -1;
        text-align: center;
        width: 100%;
        padding: 0.5rem;
    }

    /* PDF canvas - full width */
    .pdf-canvas-container {
        width: 100% !important;
        overflow-x: auto;
    }

    .pdf-canvas-container canvas {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Code renderer - smaller font and line numbers */
    .code-preview pre {
        font-size: 0.75rem !important;
        line-height: 1.4 !important;
    }

    .code-preview .line-numbers {
        font-size: 0.6875rem !important;
    }

    /* Text renderer - adjust font size */
    .text-preview {
        font-size: 0.875rem !important;
        line-height: 1.5 !important;
    }

    /* Office renderer - adjust iframe */
    .office-preview iframe {
        width: 100% !important;
        min-height: 60vh !important;
    }

    /* Error state - adjust icon and text */
    .preview-content .flex.flex-col.items-center.justify-center svg {
        width: 3rem !important;
        height: 3rem !important;
    }

    /* Loading spinner - adjust size */
    .preview-content .animate-spin {
        width: 3rem !important;
        height: 3rem !important;
    }

    /* Scrollbar - thinner on mobile */
    .preview-content::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }
}

/* Small mobile breakpoint (max-width: 374px) */
@media (max-width: 374px) {

    /* Further reduce padding */
    [role="dialog"] .flex.items-center.justify-between {
        padding: 0.75rem !important;
    }

    .preview-content {
        padding: 0.5rem !important;
    }

    /* Smaller title */
    #preview-modal-title {
        font-size: 0.9375rem !important;
    }

    /* Smaller buttons */
    [role="dialog"] button {
        min-width: 40px;
        min-height: 40px;
        padding: 0.625rem !important;
    }

    /* Smaller icons */
    [role="dialog"] button svg {
        width: 1rem !important;
        height: 1rem !important;
    }

    /* Code renderer - even smaller font */
    .code-preview pre {
        font-size: 0.6875rem !important;
    }

    /* Text renderer - smaller font */
    .text-preview {
        font-size: 0.8125rem !important;
    }
}

/* Landscape orientation adjustments for mobile */
@media (max-width: 767px) and (orientation: landscape) {

    /* Reduce header height in landscape */
    [role="dialog"] .flex.items-center.justify-between {
        padding: 0.5rem 1rem !important;
    }

    /* Maximize content area */
    .preview-content {
        max-height: calc(100vh - 120px) !important;
    }

    /* Hide metadata in landscape to save space */
    .preview-metadata {
        display: none !important;
    }

    /* Compact search bar */
    #preview-search-bar {
        padding: 0.5rem !important;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {

    /* Ensure all interactive elements are touch-friendly */
    [role="dialog"] button,
    [role="dialog"] input,
    [role="dialog"] select {
        min-height: 44px;
        touch-action: manipulation;
    }

    /* Larger tap targets for links */
    [role="dialog"] a {
        min-height: 44px;
        display: inline-flex;
        align-items: center;
    }

    /* Remove hover effects on touch devices */
    [role="dialog"] button:hover {
        transform: none !important;
    }

    /* Add active state for touch feedback */
    [role="dialog"] button:active {
        transform: scale(0.95);
        opacity: 0.8;
    }

    /* Improve scrolling performance */
    .preview-content {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
}

/* High DPI displays (Retina) */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {

    /* Sharper text rendering */
    .preview-content {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Adjust canvas rendering for PDF */
    .pdf-canvas-container canvas {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {

    /* Disable animations for users who prefer reduced motion */
    [role="dialog"],
    [role="dialog"] * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    /* Keep essential transitions */
    [role="dialog"] button:active {
        transition: opacity 0.1s ease;
    }
}

/* Print styles for preview modal */
@media print {

    /* Hide modal chrome when printing */
    [role="dialog"] .flex.items-center.justify-between,
    [role="dialog"] .preview-backdrop,
    #preview-search-bar {
        display: none !important;
    }

    /* Full width content */
    [role="dialog"]>div {
        max-width: 100% !important;
        max-height: none !important;
        box-shadow: none !important;
        border: none !important;
    }

    .preview-content {
        padding: 0 !important;
        overflow: visible !important;
    }

    /* Ensure content is visible */
    .preview-content * {
        color: black !important;
        background: white !important;
    }
}

/* ===================================
   MODERN DROPDOWN/SELECT COMPONENT
   JavaScript-powered custom dropdown
   =================================== */

/* Modern Dropdown Wrapper */
.modern-dropdown-wrapper {
    position: relative;
    display: block;
    width: 100%;
    z-index: 100;
}

.modern-dropdown-wrapper.open {
    z-index: 1000;
}

/* Dropdown Toggle Button */
.modern-dropdown-toggle {
    position: relative;
    font-family: 'Inter', 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 0.9375rem;
    line-height: 1.5;
    min-height: 48px;
    width: 100%;
    padding: 0.875rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    text-align: left;
    border: 1.5px solid var(--border-primary);
    border-radius: 0.75rem;
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.modern-dropdown-toggle:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-secondary);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.modern-dropdown-toggle:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15),
        0 4px 12px rgba(59, 130, 246, 0.2);
}

.modern-dropdown-wrapper.open .modern-dropdown-toggle {
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15),
        0 4px 12px rgba(59, 130, 246, 0.2);
}

/* Dropdown Text */
.modern-dropdown-text {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.modern-dropdown-text.placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

/* Dropdown Arrow */
.modern-dropdown-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.modern-dropdown-arrow svg {
    width: 100%;
    height: 100%;
    stroke: var(--text-tertiary);
    transition: stroke 200ms ease;
}

.modern-dropdown-toggle:hover .modern-dropdown-arrow svg {
    stroke: var(--accent-blue);
}

.modern-dropdown-wrapper.open .modern-dropdown-arrow {
    transform: rotate(180deg);
}

.modern-dropdown-wrapper.open .modern-dropdown-arrow svg {
    stroke: var(--accent-blue);
}

/* Dropdown Menu */
.modern-dropdown-menu {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    padding: 0.5rem;
    background-color: var(--bg-primary);
    border: 1.5px solid var(--border-primary);
    border-radius: 0.75rem;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15),
        0 4px 12px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    max-height: 280px;
    overflow-y: auto;
    z-index: 9999;
}

.modern-dropdown-wrapper.open .modern-dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* Menu Arrow/Pointer */
.modern-dropdown-menu::before {
    content: '';
    position: absolute;
    top: -7px;
    left: 24px;
    width: 12px;
    height: 12px;
    background-color: var(--bg-primary);
    border-left: 1.5px solid var(--border-primary);
    border-top: 1.5px solid var(--border-primary);
    transform: rotate(45deg);
    z-index: 1;
}

/* Dropdown Option */
.modern-dropdown-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    width: 100%;
    padding: 0.75rem 1rem;
    margin: 2px 0;
    font-family: 'Inter', 'Roboto', sans-serif;
    font-size: 0.9375rem;
    font-weight: 500;
    text-align: left;
    color: var(--text-primary);
    background-color: transparent;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.modern-dropdown-option:hover,
.modern-dropdown-option:focus {
    outline: none;
    background-color: var(--accent-blue);
    color: #ffffff;
}

.modern-dropdown-option.placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

.modern-dropdown-option.placeholder:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-tertiary);
}

.modern-dropdown-option.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.modern-dropdown-option.disabled:hover {
    background-color: transparent;
    color: var(--text-tertiary);
}

/* Selected Option */
.modern-dropdown-option.selected {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--accent-blue);
}

.modern-dropdown-option.selected:hover,
.modern-dropdown-option.selected:focus {
    background-color: var(--accent-blue);
    color: #ffffff;
}

/* Option Text */
.modern-dropdown-option .option-text {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Check Icon */
.modern-dropdown-option .option-check {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    opacity: 0;
    transform: scale(0.8);
    transition: all 150ms ease;
}

.modern-dropdown-option .option-check svg {
    width: 100%;
    height: 100%;
    stroke: var(--accent-blue);
}

.modern-dropdown-option.selected .option-check {
    opacity: 1;
    transform: scale(1);
}

.modern-dropdown-option.selected:hover .option-check svg,
.modern-dropdown-option.selected:focus .option-check svg {
    stroke: #ffffff;
}

/* Dark Mode Styles */
.dark .modern-dropdown-toggle {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
}

.dark .modern-dropdown-toggle:hover {
    background-color: var(--bg-primary);
    border-color: var(--accent-blue);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25);
}

.dark .modern-dropdown-menu {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5),
        0 4px 16px rgba(0, 0, 0, 0.3);
}

.dark .modern-dropdown-menu::before {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
}

.dark .modern-dropdown-option:hover,
.dark .modern-dropdown-option:focus {
    background-color: var(--accent-blue);
    color: #ffffff;
}

.dark .modern-dropdown-option.selected {
    background-color: rgba(59, 130, 246, 0.2);
    color: var(--accent-blue);
}

.dark .modern-dropdown-option.placeholder:hover {
    background-color: var(--bg-primary);
}

/* Scrollbar Styling for Dropdown Menu */
.modern-dropdown-menu::-webkit-scrollbar {
    width: 6px;
}

.modern-dropdown-menu::-webkit-scrollbar-track {
    background: transparent;
}

.modern-dropdown-menu::-webkit-scrollbar-thumb {
    background-color: var(--border-primary);
    border-radius: 3px;
}

.modern-dropdown-menu::-webkit-scrollbar-thumb:hover {
    background-color: var(--text-tertiary);
}

/* ===================================
   FILTER DROPDOWN VARIANTS
   Smaller, inline versions for filter bars
   =================================== */

/* Modern dropdown class selector */
select.modern-dropdown {
    display: none;
}

/* Filter dropdown in flex containers */
.flex .modern-dropdown-wrapper,
.space-x-2 .modern-dropdown-wrapper,
.gap-2 .modern-dropdown-wrapper,
.gap-3 .modern-dropdown-wrapper {
    width: 100%;
}

/* Compact filter toggle - SAME STYLING AS MAIN DROPDOWNS */
.filter-dropdown .modern-dropdown-toggle,
.gap-2 .modern-dropdown-toggle,
.gap-3 .modern-dropdown-toggle {
    min-height: 42px;
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    border-radius: 0.625rem;
    /* Use same colors as Academic Year / Semester dropdowns */
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    color: var(--text-primary);
}

/* Compact filter menu - SAME STYLING AS MAIN DROPDOWNS */
.filter-dropdown .modern-dropdown-menu,
.gap-2 .modern-dropdown-menu,
.gap-3 .modern-dropdown-menu {
    max-height: 320px;
    padding: 0.5rem;
    border-radius: 0.75rem;
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

.filter-dropdown .modern-dropdown-menu::before,
.gap-2 .modern-dropdown-menu::before,
.gap-3 .modern-dropdown-menu::before {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

/* Compact filter options - SAME STYLING AS MAIN DROPDOWNS */
.filter-dropdown .modern-dropdown-option,
.gap-2 .modern-dropdown-option,
.gap-3 .modern-dropdown-option {
    padding: 0.625rem 0.875rem;
    font-size: 0.875rem;
    border-radius: 0.5rem;
    color: var(--text-primary);
    background-color: transparent;
}

.filter-dropdown .modern-dropdown-option:hover,
.gap-2 .modern-dropdown-option:hover,
.gap-3 .modern-dropdown-option:hover {
    background-color: var(--accent-blue-light);
    color: var(--accent-blue);
}

.filter-dropdown .modern-dropdown-option.selected,
.gap-2 .modern-dropdown-option.selected,
.gap-3 .modern-dropdown-option.selected {
    background-color: var(--accent-blue-light);
    color: var(--accent-blue);
}

/* ===================================
   NATIVE SELECT FALLBACK STYLING
   (Enhanced native selects)
   =================================== */

/* ===================================
   MODERN DATE INPUT STYLING
   Matches modern-dropdown appearance
   =================================== */

input[type="date"].modern-date-input,
input[type="date"]#reportFilterStartDate,
input[type="date"]#reportFilterEndDate {
    font-family: 'Inter', 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 0.9375rem;
    line-height: 1.5;
    min-height: 48px;
    width: 100%;
    padding: 0.875rem 1rem;
    border: 1.5px solid var(--border-primary);
    border-radius: 0.75rem;
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

input[type="date"].modern-date-input:hover,
input[type="date"]#reportFilterStartDate:hover,
input[type="date"]#reportFilterEndDate:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-secondary);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

input[type="date"].modern-date-input:focus,
input[type="date"]#reportFilterStartDate:focus,
input[type="date"]#reportFilterEndDate:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15),
        0 4px 12px rgba(59, 130, 246, 0.2);
}

/* Date picker icon styling */
input[type="date"].modern-date-input::-webkit-calendar-picker-indicator,
input[type="date"]#reportFilterStartDate::-webkit-calendar-picker-indicator,
input[type="date"]#reportFilterEndDate::-webkit-calendar-picker-indicator {
    cursor: pointer;
    filter: var(--text-primary);
    opacity: 0.6;
    transition: opacity 200ms ease;
}

input[type="date"].modern-date-input:hover::-webkit-calendar-picker-indicator,
input[type="date"]#reportFilterStartDate:hover::-webkit-calendar-picker-indicator,
input[type="date"]#reportFilterEndDate:hover::-webkit-calendar-picker-indicator {
    opacity: 1;
}

/* Placeholder styling for empty date */
input[type="date"].modern-date-input:not(:valid)::-webkit-datetime-edit,
input[type="date"]#reportFilterStartDate:not(:valid)::-webkit-datetime-edit,
input[type="date"]#reportFilterEndDate:not(:valid)::-webkit-datetime-edit {
    color: var(--text-tertiary);
}

/* Dark mode styles for date inputs */
.dark input[type="date"].modern-date-input,
.dark input[type="date"]#reportFilterStartDate,
.dark input[type="date"]#reportFilterEndDate {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    color: var(--text-primary);
}

.dark input[type="date"].modern-date-input:hover,
.dark input[type="date"]#reportFilterStartDate:hover,
.dark input[type="date"]#reportFilterEndDate:hover {
    background-color: var(--bg-primary);
    border-color: var(--accent-blue);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25);
}

.dark input[type="date"].modern-date-input::-webkit-calendar-picker-indicator,
.dark input[type="date"]#reportFilterStartDate::-webkit-calendar-picker-indicator,
.dark input[type="date"]#reportFilterEndDate::-webkit-calendar-picker-indicator {
    filter: invert(0.7);
}

/* ===================================
   COMPACT PAGE SIZE DROPDOWN
   Smaller version for pagination
   =================================== */

#reportPageSize + .modern-dropdown-wrapper {
    width: 80px;
    min-width: 80px;
}

#reportPageSize + .modern-dropdown-wrapper .modern-dropdown-toggle {
    min-height: 36px;
    padding: 0.5rem 0.75rem;
    font-size: 0.8125rem;
    border-radius: 0.5rem;
}

#reportPageSize + .modern-dropdown-wrapper .modern-dropdown-menu {
    min-width: 80px;
    padding: 0.375rem;
    border-radius: 0.5rem;
}

#reportPageSize + .modern-dropdown-wrapper .modern-dropdown-option {
    padding: 0.5rem 0.75rem;
    font-size: 0.8125rem;
    border-radius: 0.375rem;
}

/* Hide native checkbox inputs */
[type="checkbox"].dropdown-toggle:checked,
[type="checkbox"].dropdown-toggle:not(:checked) {
    position: absolute;
    left: -9999px;
    opacity: 0;
    pointer-events: none;
}

/* Custom Dropdown Wrapper */
.custom-dropdown {
    position: relative;
    display: inline-block;
    width: 100%;
    z-index: 100;
}

/* Dropdown Toggle Button/Label */
.custom-dropdown .dropdown-toggle-label {
    position: relative;
    font-family: 'Inter', 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 0.9375rem;
    line-height: 1.5;
    min-height: 48px;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 0.75rem;
    width: 100%;
    letter-spacing: 0.025em;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    text-align: left;
    border: 1.5px solid var(--border-primary);
    background-color: var(--bg-tertiary);
    cursor: pointer;
    color: var(--text-primary);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.custom-dropdown .dropdown-toggle-label:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-secondary);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

/* Arrow Icon */
.custom-dropdown .dropdown-toggle-label .dropdown-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.custom-dropdown .dropdown-toggle-label .dropdown-arrow svg {
    width: 20px;
    height: 20px;
    stroke: var(--text-tertiary);
    transition: stroke 200ms ease;
}

.custom-dropdown .dropdown-toggle-label:hover .dropdown-arrow svg {
    stroke: var(--accent-blue);
}

/* Rotate arrow when open */
.dropdown-toggle:checked+.dropdown-toggle-label .dropdown-arrow {
    transform: rotate(180deg);
}

/* Dropdown backdrop for closing */
.dropdown-toggle:checked+.dropdown-toggle-label::before,
.dropdown-toggle:not(:checked)+.dropdown-toggle-label::before {
    position: fixed;
    top: 0;
    left: 0;
    content: '';
    width: 100%;
    height: 100%;
    z-index: -1;
    cursor: auto;
    pointer-events: none;
}

.dropdown-toggle:checked+.dropdown-toggle-label::before {
    pointer-events: auto;
}

/* Dropdown Menu */
.custom-dropdown .dropdown-menu {
    position: absolute;
    padding: 0.5rem;
    background-color: var(--bg-tertiary);
    top: calc(100% + 8px);
    left: 0;
    width: 100%;
    border-radius: 0.75rem;
    display: block;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25),
        0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    opacity: 0;
    pointer-events: none;
    transform: translateY(-10px);
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid var(--border-primary);
    max-height: 280px;
    overflow-y: auto;
}

/* Show dropdown when checked */
.dropdown-toggle:checked~.dropdown-menu {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
}

/* Arrow pointer on dropdown */
.custom-dropdown .dropdown-menu::after {
    position: absolute;
    top: -6px;
    left: 24px;
    width: 12px;
    height: 12px;
    background-color: var(--bg-tertiary);
    border-left: 1px solid var(--border-primary);
    border-top: 1px solid var(--border-primary);
    content: '';
    display: block;
    z-index: 2;
    transform: rotate(45deg);
    transition: all 200ms linear;
}

/* Dropdown Items */
.custom-dropdown .dropdown-item {
    position: relative;
    color: var(--text-primary);
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    font-family: 'Inter', 'Roboto', sans-serif;
    font-weight: 500;
    font-size: 0.9375rem;
    border-radius: 0.5rem;
    padding: 0.75rem 1rem;
    margin: 2px 0;
    text-align: left;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    background-color: transparent;
    border: none;
    width: 100%;
}

.custom-dropdown .dropdown-item:hover {
    color: #ffffff;
    background-color: var(--accent-blue);
}

.custom-dropdown .dropdown-item.selected {
    background-color: var(--accent-blue-light);
    color: var(--accent-blue);
}

.custom-dropdown .dropdown-item.selected::after {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent-blue);
}

/* Dropdown item icons */
.custom-dropdown .dropdown-item .item-icon {
    width: 18px;
    height: 18px;
    opacity: 0;
    transition: opacity 200ms ease, transform 200ms ease;
    transform: translateX(-5px);
}

.custom-dropdown .dropdown-item:hover .item-icon {
    opacity: 1;
    transform: translateX(0);
}

/* Placeholder text styling */
.custom-dropdown .dropdown-placeholder {
    color: var(--text-tertiary);
    font-style: italic;
}

/* ===================================
   NATIVE SELECT MODERN STYLING
   (Fallback & for forms)
   =================================== */

/* Modern select styling */
select,
.modern-select,
#academicYearSelect,
#semesterSelect,
#filterCourse,
#filterDocType,
#filterStatus,
#filterDepartment,
#filterProfessor,
.filter-select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    width: 100%;
    padding: 0.875rem 2.75rem 0.875rem 1rem;
    font-size: 0.9375rem;
    font-weight: 500;
    line-height: 1.5;
    color: var(--text-primary);
    background-color: var(--bg-tertiary);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.875rem center;
    background-size: 1.25rem 1.25rem;
    border: 1.5px solid var(--border-primary);
    border-radius: 0.75rem;
    cursor: pointer;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    min-height: 48px;
}

/* Select hover state */
select:hover,
.modern-select:hover,
#academicYearSelect:hover,
#semesterSelect:hover,
#filterCourse:hover,
#filterDocType:hover,
#filterStatus:hover,
#filterDepartment:hover,
#filterProfessor:hover,
.filter-select:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-secondary);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%233b82f6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

/* Select focus state */
select:focus,
.modern-select:focus,
#academicYearSelect:focus,
#semesterSelect:focus,
#filterCourse:focus,
#filterDocType:focus,
#filterStatus:focus,
#filterDepartment:focus,
#filterProfessor:focus,
.filter-select:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15),
        0 4px 12px rgba(59, 130, 246, 0.2);
    background-color: var(--bg-primary);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%233b82f6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

/* Select with value selected (non-placeholder) */
select:not([value=""]),
.modern-select.has-value {
    color: var(--text-primary);
}

/* Placeholder/disabled option styling */
select option:disabled,
select option[value=""] {
    color: var(--text-tertiary);
    font-style: italic;
}

/* Option styling */
select option {
    padding: 0.875rem 1rem;
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    font-weight: 500;
    border-radius: 0;
}

select option:checked {
    background: linear-gradient(0deg, var(--accent-blue) 0%, var(--accent-blue) 100%);
    color: #ffffff;
}

/* Dark mode modern select */
.dark select,
.dark .modern-select,
.dark #academicYearSelect,
.dark #semesterSelect,
.dark #filterCourse,
.dark #filterDocType,
.dark #filterStatus,
.dark #filterDepartment,
.dark #filterProfessor,
.dark .filter-select {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    color: var(--text-primary);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

.dark select:hover,
.dark .modern-select:hover,
.dark #academicYearSelect:hover,
.dark #semesterSelect:hover,
.dark #filterCourse:hover,
.dark #filterDocType:hover,
.dark #filterStatus:hover,
.dark #filterDepartment:hover,
.dark #filterProfessor:hover,
.dark .filter-select:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-primary);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%233b82f6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

.dark select:focus,
.dark .modern-select:focus,
.dark #academicYearSelect:focus,
.dark #semesterSelect:focus,
.dark #filterCourse:focus,
.dark #filterDocType:focus,
.dark #filterStatus:focus,
.dark #filterDepartment:focus,
.dark #filterProfessor:focus,
.dark .filter-select:focus {
    border-color: var(--accent-blue);
    background-color: var(--bg-primary);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.25),
        0 4px 16px rgba(59, 130, 246, 0.3);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%233b82f6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

/* Dark mode options */
.dark select option {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.dark select option:checked {
    background: linear-gradient(0deg, var(--accent-blue) 0%, var(--accent-blue) 100%);
    color: #ffffff;
}

/* Custom dropdown dark mode */
.dark .custom-dropdown .dropdown-toggle-label {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
}

.dark .custom-dropdown .dropdown-toggle-label:hover {
    border-color: var(--accent-blue);
    background-color: var(--bg-primary);
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.25);
}

.dark .custom-dropdown .dropdown-menu {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5),
        0 4px 16px rgba(0, 0, 0, 0.3);
}

.dark .custom-dropdown .dropdown-menu::after {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
}

.dark .custom-dropdown .dropdown-item:hover {
    background-color: var(--accent-blue);
    color: #ffffff;
}

.dark .custom-dropdown .dropdown-item.selected {
    background-color: rgba(59, 130, 246, 0.2);
    color: var(--accent-blue);
}

/* Select label styling */
.select-label,
label[for="academicYearSelect"],
label[for="semesterSelect"],
.filter-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.075em;
    color: var(--text-tertiary);
    margin-bottom: 0.625rem;
    transition: color 200ms ease;
}

/* Label focus state (when sibling select is focused) */
select:focus~.select-label,
.modern-select:focus~.select-label {
    color: var(--accent-blue);
}

/* Context bar container styling */
.context-bar,
.bg-white.rounded-xl.shadow-sm.border.border-gray-200.p-4.mb-8 {
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    border-radius: 1rem;
    padding: 1.25rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05),
        0 1px 2px rgba(0, 0, 0, 0.02);
    transition: box-shadow 0.2s ease;
}

.context-bar:hover,
.bg-white.rounded-xl.shadow-sm.border.border-gray-200.p-4.mb-8:hover {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07),
        0 2px 4px rgba(0, 0, 0, 0.04);
}

/* Dark mode context bar */
.dark .context-bar,
.dark .bg-white.rounded-xl.shadow-sm.border.border-gray-200.p-4.mb-8 {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Filter select group styling */
.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    flex: 1;
    min-width: 200px;
}

/* Animated focus ring */
@keyframes focusRing {
    0% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }

    70% {
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
    }
}

select:focus-visible,
.modern-select:focus-visible {
    animation: focusRing 0.6s ease-out;
}

/* Loading state for select */
select.loading,
.modern-select.loading {
    pointer-events: none;
    opacity: 0.7;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='10' stroke='%233b82f6' stroke-width='2' stroke-dasharray='32' stroke-dashoffset='8'%3E%3CanimateTransform attributeName='transform' type='rotate' dur='1s' from='0 12 12' to='360 12 12' repeatCount='indefinite'/%3E%3C/circle%3E%3C/svg%3E");
}

/* Disabled state */
select:disabled,
.modern-select:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: var(--bg-tertiary);
}

/* Small select variant */
select.select-sm,
.modern-select.select-sm {
    padding: 0.5rem 2.25rem 0.5rem 0.75rem;
    font-size: 0.875rem;
    border-radius: 0.5rem;
    background-size: 1rem 1rem;
}

/* Large select variant */
select.select-lg,
.modern-select.select-lg {
    padding: 1rem 3rem 1rem 1.25rem;
    font-size: 1rem;
    border-radius: 0.875rem;
    background-size: 1.5rem 1.5rem;
    background-position: right 1rem center;
}

/* ===================================
   ACCESSIBILITY UTILITIES
   =================================== */

/* Screen reader only - visually hidden but accessible to screen readers */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Focusable screen reader only - becomes visible when focused */
.sr-only-focusable:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
}

/* ===================================
   ANIMATIONS
   =================================== */

/* Fade-in animation for modals and overlays */
.fade-in {
    animation: fadeIn 0.2s ease-in;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Smooth fade-in for loading indicators */
.loading-fade-in {
    animation: loadingFadeIn 0.15s ease-in;
}

@keyframes loadingFadeIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}


/* ===================================
   FILE EXPLORER LIGHT THEME SUPPORT
   Ensures proper styling in light/white theme
   across all dashboards (Professor, HOD, Deanship)
   =================================== */

/* File Explorer Container - Light Theme */
.file-explorer {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

/* Breadcrumb Navigation - Light Theme - Use transparent to avoid double backgrounds */
#fileExplorerBreadcrumbs {
    background-color: transparent !important;
    border-color: var(--border-primary) !important;
}

#fileExplorerBreadcrumbs nav,
#fileExplorerBreadcrumbs ol {
    color: var(--text-secondary);
}

#fileExplorerBreadcrumbs a {
    color: var(--accent-blue);
}

#fileExplorerBreadcrumbs a:hover {
    color: var(--accent-blue-hover);
    text-decoration: underline;
}

#fileExplorerBreadcrumbs span {
    color: var(--text-tertiary);
}

/* Tree View Panel - Light Theme */
#fileExplorerTree {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

/* Tree Node Items - Light Theme */
.tree-node {
    color: var(--text-primary);
}

.tree-node .flex.items-center {
    color: var(--text-primary);
}

.tree-node .flex.items-center:hover {
    background-color: var(--bg-tertiary) !important;
}

/* Selected Tree Node - Light Theme */
.tree-node .bg-blue-100 {
    background-color: var(--accent-blue-light) !important;
}

/* File List Panel - Light Theme */
#fileExplorerFileList {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

/* ===================================
   FOLDER CARDS - LIGHT THEME (CRITICAL FIX)
   These styles ensure folder cards display correctly
   in light/white theme with proper colors
   =================================== */

/* Light theme folder cards - override Tailwind dark classes */
:root:not(.dark) #fileExplorerFileList .bg-blue-50,
html:not(.dark) #fileExplorerFileList .bg-blue-50,
body:not(.dark) #fileExplorerFileList .bg-blue-50 {
    background-color: #eff6ff !important;
    border-color: #bfdbfe !important;
}

:root:not(.dark) #fileExplorerFileList .bg-blue-50:hover,
html:not(.dark) #fileExplorerFileList .bg-blue-50:hover,
body:not(.dark) #fileExplorerFileList .bg-blue-50:hover {
    background-color: #dbeafe !important;
}

/* Folder card text colors - Light Theme */
:root:not(.dark) #fileExplorerFileList .bg-blue-50 p,
:root:not(.dark) #fileExplorerFileList .bg-blue-50 span,
html:not(.dark) #fileExplorerFileList .bg-blue-50 p,
html:not(.dark) #fileExplorerFileList .bg-blue-50 span,
body:not(.dark) #fileExplorerFileList .bg-blue-50 p,
body:not(.dark) #fileExplorerFileList .bg-blue-50 span {
    color: #111827 !important;
}

/* Folder name text - Light Theme */
:root:not(.dark) #fileExplorerFileList .text-base.font-semibold,
html:not(.dark) #fileExplorerFileList .text-base.font-semibold,
body:not(.dark) #fileExplorerFileList .text-base.font-semibold {
    color: #111827 !important;
}

/* Folder icon - Light Theme */
:root:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-blue-600,
html:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-blue-600,
body:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-blue-600 {
    color: #2563eb !important;
}

/* Arrow icon - Light Theme */
:root:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-gray-400,
html:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-gray-400,
body:not(.dark) #fileExplorerFileList .bg-blue-50 svg.text-gray-400 {
    color: #9ca3af !important;
}

:root:not(.dark) #fileExplorerFileList .bg-blue-50:hover svg.text-gray-400,
html:not(.dark) #fileExplorerFileList .bg-blue-50:hover svg.text-gray-400,
body:not(.dark) #fileExplorerFileList .bg-blue-50:hover svg.text-gray-400 {
    color: #374151 !important;
}

/* Role labels in folder cards - Light Theme */
:root:not(.dark) #fileExplorerFileList .bg-blue-100,
html:not(.dark) #fileExplorerFileList .bg-blue-100,
body:not(.dark) #fileExplorerFileList .bg-blue-100 {
    background-color: #dbeafe !important;
    color: #1e40af !important;
}

:root:not(.dark) #fileExplorerFileList .bg-gray-100,
html:not(.dark) #fileExplorerFileList .bg-gray-100,
body:not(.dark) #fileExplorerFileList .bg-gray-100 {
    background-color: #f3f4f6 !important;
    color: #4b5563 !important;
}

:root:not(.dark) #fileExplorerFileList .bg-purple-100,
html:not(.dark) #fileExplorerFileList .bg-purple-100,
body:not(.dark) #fileExplorerFileList .bg-purple-100 {
    background-color: #f3e8ff !important;
    color: #7c3aed !important;
}

/* Section header "FOLDERS" - Light Theme */
:root:not(.dark) #fileExplorerFileList h4,
html:not(.dark) #fileExplorerFileList h4,
body:not(.dark) #fileExplorerFileList h4 {
    color: #6b7280 !important;
}

/* Folder description text - Light Theme */
:root:not(.dark) #fileExplorerFileList .bg-blue-50 .text-gray-500,
html:not(.dark) #fileExplorerFileList .bg-blue-50 .text-gray-500,
body:not(.dark) #fileExplorerFileList .bg-blue-50 .text-gray-500 {
    color: #6b7280 !important;
}

/* File Table - Light Theme */
#fileExplorerFileList table {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

#fileExplorerFileList thead {
    background-color: var(--bg-secondary) !important;
}

#fileExplorerFileList thead th {
    color: var(--text-tertiary) !important;
    border-color: var(--border-primary);
}

#fileExplorerFileList tbody {
    background-color: var(--bg-primary) !important;
}

#fileExplorerFileList tbody tr {
    border-color: var(--border-primary);
}

#fileExplorerFileList tbody tr:hover {
    background-color: var(--bg-secondary) !important;
}

/* File Name and Text - Light Theme */
#fileExplorerFileList .text-gray-900 {
    color: var(--text-primary) !important;
}

#fileExplorerFileList .text-gray-700 {
    color: var(--text-secondary) !important;
}

#fileExplorerFileList .text-gray-500 {
    color: var(--text-tertiary) !important;
}

/* File Icon Container - Light Theme */
#fileExplorerFileList .file-icon-container {
    background-color: var(--bg-secondary) !important;
}

/* File Metadata Badges - Light Theme */
#fileExplorerFileList .file-metadata-badge {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-secondary) !important;
}

/* Role-specific Labels - Light Theme */
#fileExplorerFileList .bg-blue-100 {
    background-color: #dbeafe !important;
    color: #1e40af !important;
}

#fileExplorerFileList .bg-gray-100 {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-secondary) !important;
}

#fileExplorerFileList .bg-purple-100 {
    background-color: #f3e8ff !important;
    color: #7c3aed !important;
}

/* Empty State - Light Theme */
#fileExplorerFileList .text-center.py-8,
#fileExplorerFileList .text-center.py-12 {
    color: var(--text-secondary);
}

#fileExplorerFileList .text-center svg {
    color: var(--text-tertiary);
}

/* Action Buttons - Light Theme */
#fileExplorerFileList .download-button {
    background-color: var(--accent-blue) !important;
    color: white !important;
}

#fileExplorerFileList .download-button:hover {
    background-color: var(--accent-blue-hover) !important;
}

/* View Button - Light Theme */
#fileExplorerFileList button.text-gray-600 {
    color: var(--text-secondary) !important;
}

#fileExplorerFileList button.text-gray-600:hover {
    color: var(--text-primary) !important;
    background-color: var(--bg-tertiary) !important;
}

/* ===================================
   FOLDER CARDS - EXPLICIT LIGHT THEME FALLBACK
   These styles use higher specificity to ensure
   light theme colors are applied correctly
   =================================== */

/* Folder card container - Light Theme (default) */
#fileExplorerFileList>div>div.grid>div.flex.items-center.justify-between {
    background-color: #eff6ff;
    border-color: #bfdbfe;
}

#fileExplorerFileList>div>div.grid>div.flex.items-center.justify-between:hover {
    background-color: #dbeafe;
}

/* Folder name text - Light Theme (default) */
#fileExplorerFileList>div>div.grid>div.flex p.text-base.font-semibold {
    color: #111827;
}

/* Folder icon - Light Theme (default) */
#fileExplorerFileList>div>div.grid>div.flex svg.w-8.h-8 {
    color: #2563eb;
}

/* Arrow icon - Light Theme (default) */
#fileExplorerFileList>div>div.grid>div.flex svg.w-6.h-6 {
    color: #9ca3af;
}

#fileExplorerFileList>div>div.grid>div.flex:hover svg.w-6.h-6 {
    color: #374151;
}

/* Dark mode overrides for folder cards */
.dark #fileExplorerFileList>div>div.grid>div.flex.items-center.justify-between {
    background-color: #1E1F20 !important;
    border-color: #444746 !important;
}

.dark #fileExplorerFileList>div>div.grid>div.flex.items-center.justify-between:hover {
    background-color: #2D2E30 !important;
}

.dark #fileExplorerFileList>div>div.grid>div.flex p.text-base.font-semibold {
    color: #C4C7C5 !important;
}

.dark #fileExplorerFileList>div>div.grid>div.flex svg.w-8.h-8 {
    color: #60a5fa !important;
}

.dark #fileExplorerFileList>div>div.grid>div.flex svg.w-6.h-6 {
    color: #6b7280 !important;
}

.dark #fileExplorerFileList>div>div.grid>div.flex:hover svg.w-6.h-6 {
    color: #d1d5db !important;
}

/* Upload Area - Light Theme */
.file-upload-area {
    background-color: var(--bg-primary);
    border-color: var(--border-secondary);
}

.file-upload-area:hover {
    background-color: var(--accent-blue-light);
    border-color: var(--accent-blue);
}

.file-upload-area.dragover {
    background-color: #dbeafe;
    border-color: var(--accent-blue);
}

/* Section Headers - Light Theme */
#fileExplorerFileList h4.text-gray-500 {
    color: var(--text-tertiary) !important;
}

/* Panel Borders and Backgrounds - Light Theme */
#fileExplorerFileList>div.bg-white,
#fileExplorerTree>div.bg-white {
    background-color: var(--bg-primary) !important;
    border-color: var(--border-primary) !important;
}

/* Grid Container Panels - Light Theme */
.file-explorer .grid>div {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
}

/* Section Title in Panels - Light Theme */
.file-explorer h3.text-gray-700 {
    color: var(--text-secondary) !important;
}

/* ===================================
   DARK MODE FILE EXPLORER OVERRIDES
   Ensures dark mode still works correctly
   =================================== */

/* Breadcrumb Navigation - Dark Mode - Use transparent to match parent */
.dark #fileExplorerBreadcrumbs {
    background-color: transparent !important;
    border-color: var(--border-primary) !important;
}

.dark #fileExplorerBreadcrumbs a {
    color: var(--accent-blue);
}

.dark #fileExplorerBreadcrumbs span {
    color: var(--text-tertiary);
}

/* Tree View Panel - Dark Mode */
.dark #fileExplorerTree {
    background-color: var(--bg-secondary);
}

.dark .tree-node .flex.items-center:hover {
    background-color: var(--bg-tertiary) !important;
}

.dark .tree-node .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.2) !important;
}

/* File List Panel - Dark Mode */
.dark #fileExplorerFileList {
    background-color: var(--bg-secondary);
}

/* ===================================
   FOLDER CARDS - DARK THEME
   =================================== */

/* Folder Cards - Dark Mode */
.dark #fileExplorerFileList .bg-blue-50 {
    background-color: #1E1F20 !important;
    border-color: #444746 !important;
}

.dark #fileExplorerFileList .bg-blue-50:hover {
    background-color: #2D2E30 !important;
}

.dark #fileExplorerFileList .bg-blue-50 p.text-gray-900,
.dark #fileExplorerFileList .bg-blue-50 .text-base.font-semibold {
    color: var(--text-primary) !important;
}

/* File Table - Dark Mode */
.dark #fileExplorerFileList table {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}

.dark #fileExplorerFileList thead {
    background-color: var(--bg-tertiary) !important;
}

.dark #fileExplorerFileList tbody {
    background-color: var(--bg-secondary) !important;
}

.dark #fileExplorerFileList tbody tr:hover {
    background-color: var(--bg-tertiary) !important;
}

/* File Icon Container - Dark Mode */
.dark #fileExplorerFileList .file-icon-container {
    background-color: var(--bg-tertiary) !important;
}

/* File Metadata Badges - Dark Mode */
.dark #fileExplorerFileList .file-metadata-badge {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-secondary) !important;
}

/* Role-specific Labels - Dark Mode */
.dark #fileExplorerFileList .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.2) !important;
    color: #93c5fd !important;
}

.dark #fileExplorerFileList .bg-gray-100 {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-secondary) !important;
}

.dark #fileExplorerFileList .bg-purple-100 {
    background-color: rgba(139, 92, 246, 0.2) !important;
    color: #c4b5fd !important;
}

/* Upload Area - Dark Mode */
.dark .file-upload-area {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
}

.dark .file-upload-area:hover {
    background-color: var(--bg-secondary);
    border-color: var(--accent-blue);
}

/* Grid Container Panels - Dark Mode */
.dark .file-explorer .grid>div {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}

/* ===================================
   HOD DASHBOARD FILE EXPLORER FIXES
   =================================== */

#hodFileExplorer {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

#hodFileExplorer .file-explorer {
    background-color: transparent;
}

.dark #hodFileExplorer {
    background-color: var(--bg-secondary);
}

/* ===================================
   DEANSHIP DASHBOARD FILE EXPLORER FIXES
   =================================== */

#deanshipFileExplorer,
#deanship-layout .file-explorer {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

.dark #deanshipFileExplorer,
.dark #deanship-layout .file-explorer {
    background-color: var(--bg-secondary);
}

/* ===================================
   PROFESSOR DASHBOARD FILE EXPLORER FIXES
   =================================== */

#fileExplorerContainer {
    background-color: transparent;
    color: var(--text-primary);
}

#fileExplorerContainer .file-explorer {
    background-color: transparent;
}

/* ===================================
   COMMON FILE EXPLORER TABLE FIXES
   Ensures tables look correct in both themes
   =================================== */

/* Table wrapper in file explorer */
.file-explorer .overflow-x-auto {
    background-color: var(--bg-primary);
    border-radius: 0.5rem;
}

.dark .file-explorer .overflow-x-auto {
    background-color: var(--bg-secondary);
}

/* Ensure divide colors work in both themes */
.file-explorer .divide-gray-200> :not([hidden])~ :not([hidden]) {
    border-color: var(--border-primary);
}

.dark .file-explorer .divide-gray-200> :not([hidden])~ :not([hidden]) {
    border-color: var(--border-primary);
}

/* ===================================
   FILE EXPLORER HOVER STATES
   Consistent hover behavior across themes
   =================================== */

/* File row hover - Light Theme */
.file-explorer tbody tr:hover {
    background-color: var(--bg-secondary) !important;
}

.file-explorer tbody tr:hover td {
    color: inherit;
}

.file-explorer tbody tr:hover .text-gray-900 {
    color: var(--text-primary) !important;
}

/* File row hover - Dark Theme */
.dark .file-explorer tbody tr:hover {
    background-color: var(--bg-tertiary) !important;
}

.dark .file-explorer tbody tr:hover .text-gray-900 {
    color: var(--text-primary) !important;
}

/* Folder card hover - Light Theme */
.file-explorer .cursor-pointer.transition-all:hover {
    box-shadow: var(--shadow-md);
}

/* Folder card hover - Dark Theme */
.dark .file-explorer .cursor-pointer.transition-all:hover {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.45);
}

/* ===================================
   FILE EXPLORER LOADING STATES
   =================================== */

/* Loading skeleton in file explorer - Light Theme */
.file-explorer .animate-pulse {
    background-color: #ffffff !important;
    border-color: #e5e7eb !important;
}

/* Loading skeleton inner elements - Light Theme */
.file-explorer .animate-pulse .bg-gray-300 {
    background-color: #e5e7eb !important;
}

/* Loading skeleton in file explorer - Dark Theme */
.dark .file-explorer .animate-pulse {
    background-color: var(--bg-elevated) !important;
    border-color: var(--border-primary) !important;
}

/* Loading skeleton inner elements - Dark Theme */
.dark .file-explorer .animate-pulse .bg-gray-300 {
    background-color: var(--bg-tertiary) !important;
}

/* ===================================
   FILE EXPLORER EMPTY STATES
   =================================== */

/* Empty state container - Light Theme */
.file-explorer .text-center.py-8,
.file-explorer .text-center.py-12 {
    background-color: transparent;
    color: var(--text-secondary);
}

.file-explorer .text-center.py-8 svg,
.file-explorer .text-center.py-12 svg {
    color: var(--text-tertiary);
}

.file-explorer .text-center.py-8 h3,
.file-explorer .text-center.py-12 h3 {
    color: var(--text-primary);
}

/* Empty state container - Dark Theme */
.dark .file-explorer .text-center.py-8,
.dark .file-explorer .text-center.py-12 {
    color: var(--text-secondary);
}

.dark .file-explorer .text-center.py-8 svg,
.dark .file-explorer .text-center.py-12 svg {
    color: var(--text-tertiary);
}

.dark .file-explorer .text-center.py-8 h3,
.dark .file-explorer .text-center.py-12 h3 {
    color: var(--text-primary);
}

/* Info box in empty state - Light Theme */
.file-explorer .bg-blue-50.border.border-blue-100 {
    background-color: #eff6ff !important;
    border-color: #bfdbfe !important;
}

.file-explorer .bg-blue-50.border.border-blue-100 p {
    color: #1e40af !important;
}

/* Info box in empty state - Dark Theme */
.dark .file-explorer .bg-blue-50.border.border-blue-100 {
    background-color: rgba(59, 130, 246, 0.1) !important;
    border-color: rgba(59, 130, 246, 0.3) !important;
}

.dark .file-explorer .bg-blue-50.border.border-blue-100 p {
    color: #93c5fd !important;
}


/* ===================================
   CRITICAL: OVERRIDE TAILWIND DARK CLASSES
   IN LIGHT MODE FOR FILE EXPLORER
   =================================== */

/* When NOT in dark mode, override Tailwind's dark: classes */
/* Target folder cards with bg-blue-50 that also have dark:bg-gray-800 */
#fileExplorerFileList [class*="bg-blue-50"][class*="dark:bg-gray-800"] {
    background-color: #eff6ff !important;
    border-color: #bfdbfe !important;
}

#fileExplorerFileList [class*="bg-blue-50"][class*="dark:bg-gray-800"]:hover {
    background-color: #dbeafe !important;
}

/* Folder name text */
#fileExplorerFileList [class*="bg-blue-50"] .text-gray-900,
#fileExplorerFileList [class*="bg-blue-50"] p.text-base {
    color: #111827 !important;
}

/* Folder icon */
#fileExplorerFileList [class*="bg-blue-50"] .text-blue-600 {
    color: #2563eb !important;
}

/* Arrow icon */
#fileExplorerFileList [class*="bg-blue-50"] .text-gray-400 {
    color: #9ca3af !important;
}

#fileExplorerFileList [class*="bg-blue-50"]:hover .text-gray-400 {
    color: #374151 !important;
}

/* Role labels */
#fileExplorerFileList [class*="bg-blue-50"] .bg-blue-100 {
    background-color: #dbeafe !important;
    color: #1e40af !important;
}

/* Dark mode - override the light theme styles */
.dark #fileExplorerFileList [class*="bg-blue-50"][class*="dark:bg-gray-800"] {
    background-color: #1E1F20 !important;
    border-color: #444746 !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"][class*="dark:bg-gray-800"]:hover {
    background-color: #2D2E30 !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"] .text-gray-900,
.dark #fileExplorerFileList [class*="bg-blue-50"] p.text-base {
    color: #C4C7C5 !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"] .text-blue-600 {
    color: #60a5fa !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"] .text-gray-400 {
    color: #6b7280 !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"]:hover .text-gray-400 {
    color: #d1d5db !important;
}

.dark #fileExplorerFileList [class*="bg-blue-50"] .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.2) !important;
    color: #93c5fd !important;
}

/* ===================================
   TREE VIEW TEXT COLORS - LIGHT THEME
   =================================== */

/* Tree node text - Light Theme */
#fileExplorerTree .text-gray-800 {
    color: #1f2937 !important;
}

#fileExplorerTree .text-blue-800 {
    color: #1e40af !important;
}

/* Tree node text - Dark Theme */
.dark #fileExplorerTree .text-gray-800 {
    color: #e5e7eb !important;
}

.dark #fileExplorerTree .text-blue-800 {
    color: #93c5fd !important;
}

/* ===================================
   FILE TABLE TEXT COLORS - LIGHT THEME
   =================================== */

/* File name text - Light Theme */
#fileExplorerFileList .text-sm.font-medium.text-gray-900 {
    color: #111827 !important;
}

/* File notes text - Light Theme */
#fileExplorerFileList .text-xs.text-gray-500 {
    color: #6b7280 !important;
}

/* Dark mode file text */
.dark #fileExplorerFileList .text-sm.font-medium.text-gray-900 {
    color: #f3f4f6 !important;
}

.dark #fileExplorerFileList .text-xs.text-gray-500 {
    color: #9ca3af !important;
}


/* ===================================
   FOLDER CARD COMPONENT STYLES
   Custom styles for file explorer folder cards
   Supports both light and dark themes
   =================================== */

/* Folder Card - Light Theme (Default) */
.folder-card {
    background-color: #ffffff !important;
    border-color: #e5e7eb !important;
}

.folder-card:hover {
    background-color: #f9fafb !important;
    border-color: #d1d5db !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

/* Folder Icon - Light Theme */
.folder-card .folder-icon {
    color: #3b82f6 !important;
}

/* Folder Name - Light Theme */
.folder-card .folder-name {
    color: #111827 !important;
}

/* Folder Description - Light Theme */
.folder-card .folder-description {
    color: #6b7280 !important;
}

/* Folder Arrow - Light Theme */
.folder-card .folder-arrow {
    color: #9ca3af !important;
}

.folder-card:hover .folder-arrow {
    color: #374151 !important;
    transform: translateX(4px);
}

/* ===================================
   FOLDER CARD - DARK THEME
   =================================== */

/* Folder Card - Dark Theme */
.dark .folder-card {
    background-color: #1E1F20 !important;
    border-color: #444746 !important;
}

.dark .folder-card:hover {
    background-color: #2D2E30 !important;
}

/* Folder Icon - Dark Theme */
.dark .folder-card .folder-icon {
    color: #60a5fa !important;
}

/* Folder Name - Dark Theme */
.dark .folder-card .folder-name {
    color: #C4C7C5 !important;
}

/* Folder Description - Dark Theme */
.dark .folder-card .folder-description {
    color: #8E918F !important;
}

/* Folder Arrow - Dark Theme */
.dark .folder-card .folder-arrow {
    color: #6b7280 !important;
}

.dark .folder-card:hover .folder-arrow {
    color: #d1d5db !important;
}

/* ===================================
   ROLE LABELS IN FOLDER CARDS
   =================================== */

/* Your Folder label - Light Theme */
.folder-card .bg-blue-100 {
    background-color: #dbeafe !important;
    color: #1e40af !important;
}

/* Read Only label - Light Theme */
.folder-card .bg-gray-100 {
    background-color: #f3f4f6 !important;
    color: #4b5563 !important;
}

/* Professor label - Light Theme */
.folder-card .bg-purple-100 {
    background-color: #f3e8ff !important;
    color: #7c3aed !important;
}

/* Your Folder label - Dark Theme */
.dark .folder-card .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.2) !important;
    color: #93c5fd !important;
}

/* Read Only label - Dark Theme */
.dark .folder-card .bg-gray-100 {
    background-color: #374151 !important;
    color: #d1d5db !important;
}

/* Professor label - Dark Theme */
.dark .folder-card .bg-purple-100 {
    background-color: rgba(139, 92, 246, 0.2) !important;
    color: #c4b5fd !important;
}

/* ============================================
   File Explorer Instruction Card - Theme Support
   ============================================ */

/* Light Theme (default) */
#fileExplorerInstructionCard {
    background-color: #eff6ff;
    border: 1px solid #bfdbfe;
}

#fileExplorerInstructionCard .instruction-icon {
    color: #2563eb;
}

#fileExplorerInstructionCard .instruction-title {
    color: #1e3a8a;
}

#fileExplorerInstructionCard .instruction-text {
    color: #1d4ed8;
}

#fileExplorerInstructionCard .instruction-highlight {
    color: #1e40af;
}

/* Dark Theme */
.dark #fileExplorerInstructionCard {
    background-color: rgba(30, 58, 138, 0.3);
    border: 1px solid #1e40af;
}

.dark #fileExplorerInstructionCard .instruction-icon {
    color: #60a5fa;
}

.dark #fileExplorerInstructionCard .instruction-title {
    color: #dbeafe;
}

.dark #fileExplorerInstructionCard .instruction-text {
    color: #bfdbfe;
}

.dark #fileExplorerInstructionCard .instruction-highlight {
    color: #eff6ff;
}