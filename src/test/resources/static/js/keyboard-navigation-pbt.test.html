<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Navigation Property-Based Tests</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .description {
            color: #666;
            margin: 5px 0;
        }
        #mocha {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .test-status.running {
            background: #fff3cd;
            color: #856404;
        }
        .test-status.passed {
            background: #d4edda;
            color: #155724;
        }
        .test-status.failed {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mocha@10.2.0/mocha.css">
</head>
<body>
    <div class="header">
        <h1>üéπ Keyboard Navigation Property-Based Tests</h1>
        <p class="description"><strong>Feature:</strong> file-preview-system</p>
        <p class="description"><strong>Property 19:</strong> Keyboard navigation support</p>
        <p class="description"><strong>Validates:</strong> Requirements 9.3</p>
        <p class="description">Tests that keyboard shortcuts (ESC to close, arrow keys for navigation) trigger the expected actions</p>
    </div>

    <div id="test-status" class="test-status running">
        ‚è≥ Running tests...
    </div>

    <div id="mocha"></div>

    <script src="https://cdn.jsdelivr.net/npm/mocha@10.2.0/mocha.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chai@4.3.10/chai.js"></script>
    
    <script type="module">
        // Setup Mocha
        mocha.setup({
            ui: 'bdd',
            timeout: 10000
        });
        
        // Make expect global
        window.expect = chai.expect;
        
        // Import and run tests
        import './keyboard-navigation-pbt.test.js';
        
        // Run tests
        mocha.run((failures) => {
            const statusDiv = document.getElementById('test-status');
            if (failures === 0) {
                statusDiv.className = 'test-status passed';
                statusDiv.textContent = '‚úÖ All tests passed!';
            } else {
                statusDiv.className = 'test-status failed';
                statusDiv.textContent = `‚ùå ${failures} test(s) failed`;
            }
        });
    </script>
</body>
</html>
